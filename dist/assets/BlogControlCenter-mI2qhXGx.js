var E=Object.defineProperty,P=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var N=(r,a,n)=>a in r?E(r,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[a]=n,p=(r,a)=>{for(var n in a||(a={}))M.call(a,n)&&N(r,n,a[n]);if(w)for(var n of w(a))G.call(a,n)&&N(r,n,a[n]);return r},b=(r,a)=>P(r,D(a));var y=(r,a,n)=>new Promise((o,c)=>{var i=d=>{try{x(n.next(d))}catch(m){c(m)}},u=d=>{try{x(n.throw(d))}catch(m){c(m)}},x=d=>d.done?o(d.value):Promise.resolve(d.value).then(i,u);x((n=n.apply(r,a)).next())});import{j as e}from"./index-aQT5YJyG.js";import{r as h}from"./react-vendor-Cmhfrx8h.js";import{B as R}from"./ContentDashboard-Cia93y53.js";import"./router-vendor-Ca87_sqk.js";import"./ui-vendor-BmTIP1pC.js";const K=()=>{const[r,a]=h.useState([]),[n,o]=h.useState([]),[c,i]=h.useState(!1),[u,x]=h.useState(null),[d,m]=h.useState(!1),j=R.getInstance(),v=h.useCallback(()=>y(void 0,null,function*(){const t=j.getAllPosts();o(t),a([{id:"test-1",title:"[TEST DATA] First-Time Home Buyer Programs in Calgary 2025",content:"[TEST DATA] This is sample content for testing the blog review system. Calgary offers several programs for first-time buyers including the First-Time Home Buyer Incentive and various provincial programs...",excerpt:"[TEST DATA] Discover the top programs helping Calgary first-time buyers in 2025.",category:"First-Time Buyers",keywords:["calgary first time buyer","home buyer programs","alberta mortgage"],status:"reviewing",aiGenerated:!0,createdAt:new Date,seoScore:85},{id:"test-2",title:"[TEST DATA] Edmonton vs Calgary: Where to Buy Your First Home",content:"[TEST DATA] This is sample content for testing the blog review system. Comparing the two major Alberta markets for affordability, amenities, and investment potential...",excerpt:"[TEST DATA] A detailed comparison of Edmonton and Calgary real estate markets.",category:"Market Analysis",keywords:["edmonton vs calgary","alberta real estate","home buying"],status:"draft",aiGenerated:!0,createdAt:new Date,seoScore:92},{id:"test-3",title:"[TEST DATA] Alberta Mortgage Rates Forecast 2025",content:"[TEST DATA] This is sample content for testing the blog review system. Expert analysis of where mortgage rates are heading in Alberta for 2025...",excerpt:"[TEST DATA] Expert insights on Alberta mortgage rate predictions for 2025.",category:"Market Analysis",keywords:["alberta mortgage rates","rate forecast","2025 predictions"],status:"draft",aiGenerated:!0,createdAt:new Date,seoScore:88}])}),[j]);h.useEffect(()=>{v()},[v]);const A=()=>y(void 0,null,function*(){i(!0);try{const t=["Mortgage rates forecast for Alberta 2025","Rural property financing in Alberta","Investment property mortgages Calgary","Refinancing your Alberta mortgage in 2025","Credit score requirements Alberta mortgages"],s=t[Math.floor(Math.random()*t.length)],l={id:Date.now().toString(),title:s,content:`AI-generated content about ${s}. This would be a full 1500+ word article with proper SEO optimization, local Alberta focus, and actionable advice for potential mortgage clients.`,excerpt:`Expert insights on ${s} for Alberta homeowners and buyers.`,category:"Market Analysis",keywords:["alberta mortgage",s.toLowerCase()],status:"draft",aiGenerated:!0,createdAt:new Date,seoScore:Math.floor(Math.random()*20)+80};a(g=>[l,...g])}catch(t){console.error("Error generating post:",t)}finally{i(!1)}}),T=t=>y(void 0,null,function*(){const s=r.find(g=>g.id===t);if(!s)return;const l={id:s.id,title:s.title,slug:s.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"),content:s.content,excerpt:s.excerpt,category:s.category,tags:s.keywords,author:"Alberta Mortgage Calculator Team",publishDate:new Date,lastModified:new Date,featured:!1,seo:{title:s.title,description:s.excerpt,keywords:s.keywords,canonicalUrl:`https://albertamortgagecalculator.ca/blog/${s.title.toLowerCase().replace(/[^a-z0-9]+/g,"-")}`}};o(g=>[l,...g]),a(g=>g.filter(f=>f.id!==t))}),C=t=>{a(s=>s.map(l=>l.id===t?b(p({},l),{status:"rejected"}):l))},S=t=>y(void 0,null,function*(){const s=r.find(l=>l.id===t);if(s){i(!0);try{const l=b(p({},s),{content:`Regenerated content for: ${s.title}. This would be completely new content focusing on different angles, updated data, and fresh perspectives.`,seoScore:Math.floor(Math.random()*20)+80,status:"draft"});a(g=>g.map(f=>f.id===t?l:f))}catch(l){console.error("Error regenerating post:",l)}finally{i(!1)}}}),k=t=>{a(s=>s.map(l=>l.id===t.id?t:l)),m(!1),x(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Blog Control Center"}),e.jsx("p",{className:"text-gray-600",children:"AI generates content, you approve what gets published"})]}),e.jsx("button",{onClick:A,disabled:c,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:c?"Generating...":"Generate New Post"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Draft Posts Awaiting Review"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Review, edit, and approve AI-generated content"})]}),e.jsx("div",{className:"divide-y",children:r.map(t=>e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="draft"?"bg-yellow-100 text-yellow-800":t.status==="reviewing"?"bg-blue-100 text-blue-800":t.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status}),t.aiGenerated&&e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:"AI Generated"})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:t.excerpt}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Category: ",t.category]}),e.jsxs("span",{children:["SEO Score: ",t.seoScore,"/100"]}),e.jsxs("span",{children:["Keywords: ",t.keywords.length]})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>x(t),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Preview"}),e.jsx("button",{onClick:()=>{x(t),m(!0)},className:"px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>S(t.id),className:"px-3 py-1 bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors",children:"Regenerate"}),e.jsx("button",{onClick:()=>T(t.id),className:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:"Approve"}),e.jsx("button",{onClick:()=>C(t.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Reject"})]})]})},t.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Published Posts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Content that's live on your website"})]}),e.jsx("div",{className:"divide-y",children:n.slice(0,5).map(t=>e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-2",children:t.excerpt}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Published: ",t.publishDate.toLocaleDateString()]}),e.jsxs("span",{children:["Category: ",t.category]}),e.jsxs("span",{children:["Tags: ",t.tags.length]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Live"})})]})},t.id))})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full m-4 max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:d?"Edit Post":"Preview Post"}),e.jsx("button",{onClick:()=>{x(null),m(!1)},className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:d?e.jsx(I,{post:u,onSave:k,onCancel:()=>{m(!1),x(null)}}):e.jsx(B,{post:u})})]})})]})},B=({post:r})=>e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("h1",{children:r.title}),e.jsx("div",{className:"text-gray-600 mb-4",children:r.excerpt}),e.jsx("div",{className:"whitespace-pre-wrap",children:r.content}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h4",{children:"SEO Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Keywords:"})," ",r.keywords.join(", ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",r.category]}),e.jsxs("p",{children:[e.jsx("strong",{children:"SEO Score:"})," ",r.seoScore,"/100"]})]})]}),I=({post:r,onSave:a,onCancel:n})=>{const[o,c]=h.useState(r);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:o.title,onChange:i=>c(b(p({},o),{title:i.target.value})),className:"w-full p-3 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt"}),e.jsx("textarea",{value:o.excerpt,onChange:i=>c(b(p({},o),{excerpt:i.target.value})),rows:2,className:"w-full p-3 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),e.jsx("textarea",{value:o.content,onChange:i=>c(b(p({},o),{content:i.target.value})),rows:12,className:"w-full p-3 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords (comma-separated)"}),e.jsx("input",{type:"text",value:o.keywords.join(", "),onChange:i=>c(b(p({},o),{keywords:i.target.value.split(",").map(u=>u.trim())})),className:"w-full p-3 border rounded-lg"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>a(o),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Save Changes"}),e.jsx("button",{onClick:n,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})};export{K as BlogControlCenter};
