var k=Object.defineProperty,D=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var b=(t,l,a)=>l in t?k(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,j=(t,l)=>{for(var a in l||(l={}))P.call(l,a)&&b(t,a,l[a]);if(N)for(var a of N(l))V.call(l,a)&&b(t,a,l[a]);return t},g=(t,l)=>D(t,q(l));var y=(t,l,a)=>new Promise((u,c)=>{var x=i=>{try{n(a.next(i))}catch(p){c(p)}},o=i=>{try{n(a.throw(i))}catch(p){c(p)}},n=i=>i.done?u(i.value):Promise.resolve(i.value).then(x,o);n((a=a.apply(t,l)).next())});import{j as e}from"./index-aQT5YJyG.js";import{r as h}from"./react-vendor-Cmhfrx8h.js";import{A as T}from"./ContentDashboard-Cia93y53.js";import"./router-vendor-Ca87_sqk.js";import"./ui-vendor-BmTIP1pC.js";const R=()=>{const[t,l]=h.useState([]),[a,u]=h.useState(null),[c,x]=h.useState(null),[o,n]=h.useState("all"),[i,p]=h.useState("score");T.getInstance(),h.useEffect(()=>{w(),S()},[]);const w=()=>y(void 0,null,function*(){const s=[{id:"1",name:"Sarah Johnson",email:"sarah.j@email.com",phone:"",propertyValue:45e4,downPayment:9e4,income:85e3,creditScore:720,employmentType:"Full-time",propertyType:"Single Family",location:"Calgary, AB",source:"Google Search",score:92,status:"new",createdAt:new Date(Date.now()-72e5),notes:[]},{id:"2",name:"Mike Chen",email:"mike.chen@email.com",phone:"",propertyValue:32e4,downPayment:64e3,income:65e3,creditScore:680,employmentType:"Self-employed",propertyType:"Condo",location:"Edmonton, AB",source:"Facebook Ad",score:76,status:"contacted",createdAt:new Date(Date.now()-18e6),notes:["Called 2pm - interested in pre-approval"]},{id:"3",name:"Jennifer Liu",email:"jen.liu@email.com",phone:"",propertyValue:58e4,downPayment:116e3,income:12e4,creditScore:750,employmentType:"Professional",propertyType:"Single Family",location:"Calgary, AB",source:"Blog Article",score:95,status:"qualified",createdAt:new Date(Date.now()-864e5),notes:["High income, excellent credit","Looking to close in 30 days"]}];l(s)}),S=()=>y(void 0,null,function*(){u({totalLeads:47,newLeads:8,qualifiedLeads:12,conversionRate:25.5,avgLeadValue:425e3,topSources:[{source:"Google Search",count:18},{source:"Facebook Ad",count:12},{source:"Blog Article",count:9},{source:"Direct",count:8}],monthlyTrend:[{month:"Oct",leads:32},{month:"Nov",leads:41},{month:"Dec",leads:47},{month:"Jan",leads:38}]})}),f=(s,r)=>{l(m=>m.map(d=>d.id===s?g(j({},d),{status:r}):d))},L=(s,r)=>{l(m=>m.map(d=>d.id===s?g(j({},d),{notes:[...d.notes,`${new Date().toLocaleString()}: ${r}`]}):d))},v=()=>{let s=t;return o!=="all"&&(s=s.filter(r=>r.status===o)),s.sort((r,m)=>{switch(i){case"score":return m.score-r.score;case"date":return m.createdAt.getTime()-r.createdAt.getTime();case"value":return m.propertyValue-r.propertyValue;default:return 0}})},C=s=>s>=90?"text-green-600 bg-green-100":s>=75?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",A=s=>{switch(s){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"qualified":return"bg-green-100 text-green-800";case"unqualified":return"bg-red-100 text-red-800";case"closed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lead Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage your mortgage leads"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Total Leads"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.totalLeads}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+12% from last month"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"New Leads"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:a.newLeads}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Last 24 hours"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Qualified"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:a.qualifiedLeads}),e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[a.conversionRate,"% conversion"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Avg Property Value"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:["$",(a.avgLeadValue/1e3).toFixed(0),"K"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Per qualified lead"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lead Sources"}),e.jsx("div",{className:"space-y-3",children:a.topSources.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-semibold",children:r+1}),e.jsx("span",{className:"font-medium text-gray-900",children:s.source})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-600",children:[s.count," leads"]}),e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.count/a.totalLeads*100}%`}})})]})]},s.source))})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("select",{value:o,onChange:s=>n(s.target.value),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"all",children:"All Leads"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"contacted",children:"Contacted"}),e.jsx("option",{value:"qualified",children:"Qualified"}),e.jsx("option",{value:"unqualified",children:"Unqualified"}),e.jsx("option",{value:"closed",children:"Closed"})]}),e.jsxs("select",{value:i,onChange:s=>p(s.target.value),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"score",children:"Sort by Score"}),e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"value",children:"Sort by Property Value"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",v().length," of ",t.length," leads"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"divide-y",children:v().map(s=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(s.status)}`,children:s.status}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(s.score)}`,children:["Score: ",s.score]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Contact"}),e.jsx("p",{className:"font-medium",children:s.email}),e.jsx("p",{className:"font-medium",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Property"}),e.jsxs("p",{className:"font-medium",children:["$",s.propertyValue.toLocaleString()]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.location})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Financial"}),e.jsxs("p",{className:"font-medium",children:["Income: $",s.income.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Credit: ",s.creditScore]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Source: ",s.source]}),e.jsxs("span",{children:["Created: ",s.createdAt.toLocaleDateString()]}),s.notes.length>0&&e.jsxs("span",{children:[s.notes.length," notes"]})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>x(s),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"View"}),e.jsxs("select",{value:s.status,onChange:r=>f(s.id,r.target.value),className:"px-2 py-1 border rounded text-sm",children:[e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"contacted",children:"Contacted"}),e.jsx("option",{value:"qualified",children:"Qualified"}),e.jsx("option",{value:"unqualified",children:"Unqualified"}),e.jsx("option",{value:"closed",children:"Closed"})]})]})]})},s.id))})}),c&&e.jsx(F,{lead:c,onClose:()=>x(null),onAddNote:s=>L(c.id,s),onUpdateStatus:s=>f(c.id,s)})]}):e.jsx("div",{children:"Loading..."})},F=({lead:t,onClose:l,onAddNote:a,onUpdateStatus:u})=>{const[c,x]=h.useState(""),o=()=>{c.trim()&&(a(c),x(""))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full m-4 max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.name}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",t.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",t.location]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Financial Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Property Value:"})," $",t.propertyValue.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Down Payment:"})," $",t.downPayment.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Annual Income:"})," $",t.income.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Credit Score:"})," ",t.creditScore]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Employment:"})," ",t.employmentType]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Lead Score Breakdown"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{children:"Overall Score"}),e.jsxs("span",{className:"font-bold text-lg",children:[t.score,"/100"]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Credit Score"}),e.jsx("span",{children:t.creditScore>=700?"25/25":t.creditScore>=650?"15/25":"5/25"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Down Payment %"}),e.jsx("span",{children:t.downPayment/t.propertyValue*100>=20?"25/25":"15/25"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Income Ratio"}),e.jsx("span",{children:t.propertyValue/t.income<=5?"25/25":"15/25"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Employment"}),e.jsx("span",{children:t.employmentType==="Full-time"?"25/25":"15/25"})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Notes"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.notes.map((n,i)=>e.jsx("div",{className:"bg-gray-50 p-3 rounded text-sm",children:n},i))}),e.jsxs("div",{className:"mt-3 flex space-x-2",children:[e.jsx("input",{type:"text",value:c,onChange:n=>x(n.target.value),placeholder:"Add a note...",className:"flex-1 p-2 border rounded",onKeyPress:n=>n.key==="Enter"&&o()}),e.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{value:t.status,onChange:n=>u(n.target.value),className:"px-3 py-2 border rounded",children:[e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"contacted",children:"Contacted"}),e.jsx("option",{value:"qualified",children:"Qualified"}),e.jsx("option",{value:"unqualified",children:"Unqualified"}),e.jsx("option",{value:"closed",children:"Closed"})]}),e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Call Lead"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Email Lead"})]})]})]})})};export{R as LeadDashboard};
