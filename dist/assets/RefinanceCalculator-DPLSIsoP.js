import{j as e,S as r}from"./index-uaoDt4Ng.js";import{r as n}from"./react-vendor-Cmhfrx8h.js";import{C as ie}from"./CalculatorLayout-D5rLodfz.js";import{T as E,d as L,D as l,P as p,e as A}from"./ui-vendor-BmTIP1pC.js";import"./router-vendor-Crb2vDvM.js";const be=()=>{const[o,q]=n.useState(3e5),[m,B]=n.useState(6.5),[c,O]=n.useState(2200),[x,Q]=n.useState("fixed"),[j,G]=n.useState(36),[N,H]=n.useState(5.2),[h,Y]=n.useState(5),[v,U]=n.useState(25),[g,W]=n.useState(1500),[b,J]=n.useState(0),[w,K]=n.useState(12e4),[C,X]=n.useState(800),[R,Z]=n.useState(4e3),[S,_]=n.useState(180),[s,ee]=n.useState({newPayment:0,monthlySavings:0,breakEvenMonths:0,newLoanAmount:0,prepaymentPenalty:0,totalRefinanceCosts:0,gdsRatio:0,tdsRatio:0,qualifies:!1});n.useEffect(()=>{te()},[o,m,c,h,v,g,b,x,j,N,w,C,R,S]);const te=()=>{let t=0;const T=o*(m/100)/4;if(x==="variable")t=T;else{const I=(m-N)/100;let z=0;I>0&&(z=I*o*j/12),t=Math.max(T,z)}const F=g+Math.max(0,t),i=o+b,se=h/100,M=Math.pow(1+se/2,2/12)-1,d=v*12;let u=0;d>0&&M>0?u=i*M/(1-Math.pow(1+M,-d)):d>0&&(u=i/d);const y=w/12,ae=R/12,ne=S,re=Math.max(h+2,5.25),$=Math.pow(1+re/200,1/6)-1,k=(i>0?i*$/(1-Math.pow(1+$,-d)):0)+ae+ne,le=k+C,D=y>0?k/y*100:0,V=y>0?le/y*100:0,oe=D<=45&&V<=50,P=c-u;let f=0;P>0&&(f=F/P),ee({newPayment:Math.round(u),monthlySavings:Math.round(P),breakEvenMonths:f>0&&isFinite(f)?parseFloat(f.toFixed(1)):0,newLoanAmount:Math.round(i),prepaymentPenalty:Math.round(t),totalRefinanceCosts:Math.round(F),gdsRatio:parseFloat(D.toFixed(2)),tdsRatio:parseFloat(V.toFixed(2)),qualifies:oe})},a=t=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t);return e.jsxs(ie,{title:"Refinance Calculator",description:"Compare your current mortgage with refinancing options. Calculate potential savings, break-even points, and determine if refinancing makes financial sense.",icon:E,color:"from-brand-gold to-yellow-600",canonicalPath:"/calculators/refinance",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-xl",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-6 flex items-center space-x-3",children:[e.jsx(L,{size:24,className:"text-red-600 flex-shrink-0"}),e.jsx("span",{children:"Current Mortgage"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(r,{label:"Current Balance",value:o,min:5e4,max:1e6,step:1e4,onChange:q,formatValue:t=>a(t),icon:l}),e.jsx(r,{label:"Current Interest Rate",value:m,min:2,max:10,step:.1,onChange:B,formatValue:t=>`${t.toFixed(1)}%`,icon:p}),e.jsx(r,{label:"Current Monthly Payment",value:c,min:1e3,max:5e3,step:50,onChange:O,formatValue:t=>a(t),icon:l})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-xl",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-6 flex items-center space-x-3",children:[e.jsx(L,{size:24,className:"text-red-600 flex-shrink-0"}),e.jsx("span",{children:"Penalty Calculation"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{htmlFor:"mortgage-type",className:"text-sm font-bold text-gray-900",children:"Mortgage Type"}),e.jsxs("select",{id:"mortgage-type",value:x,onChange:t=>Q(t.target.value),className:"form-input w-full",children:[e.jsx("option",{value:"fixed",children:"Fixed Rate"}),e.jsx("option",{value:"variable",children:"Variable Rate"})]})]}),e.jsx(r,{label:"Months Remaining in Term",value:j,min:1,max:60,step:1,onChange:G,formatValue:t=>`${t} months`,icon:A}),x==="fixed"&&e.jsx(r,{label:"Lender's Current Rate for Similar Term",value:N,min:2,max:8,step:.1,onChange:H,formatValue:t=>`${t.toFixed(1)}%`,icon:p})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-xl",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-6 flex items-center space-x-3",children:[e.jsx(l,{size:24,className:"text-brand-blue flex-shrink-0"}),e.jsx("span",{children:"Income & Qualification"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(r,{label:"Gross Annual Income",value:w,min:5e4,max:5e5,step:5e3,onChange:K,formatValue:t=>a(t),icon:l}),e.jsx(r,{label:"Monthly Debt Payments",value:C,min:0,max:5e3,step:50,onChange:X,formatValue:t=>a(t),icon:l}),e.jsx(r,{label:"Annual Property Taxes",value:R,min:1e3,max:15e3,step:250,onChange:Z,formatValue:t=>a(t),icon:l}),e.jsx(r,{label:"Monthly Heating Costs",value:S,min:50,max:500,step:25,onChange:_,formatValue:t=>a(t),icon:l})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-xl",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-6 flex items-center space-x-3",children:[e.jsx(E,{size:24,className:"text-emerald-600 flex-shrink-0"}),e.jsx("span",{children:"New Mortgage"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(r,{label:"New Interest Rate",value:h,min:2,max:8,step:.1,onChange:Y,formatValue:t=>`${t.toFixed(1)}%`,icon:p}),e.jsx(r,{label:"New Amortization",value:v,min:15,max:30,step:1,onChange:U,formatValue:t=>`${t} years`,icon:A}),e.jsx(r,{label:"Refinance Costs",value:g,min:1e3,max:1e4,step:250,onChange:W,formatValue:t=>a(t),icon:l}),e.jsx(r,{label:"Cash Out Amount",value:b,min:0,max:1e5,step:5e3,onChange:J,formatValue:t=>a(t),icon:l})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`rounded-2xl border-2 p-6 sm:p-8 shadow-lg ${s.monthlySavings>0?"bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-50 border-emerald-200":"bg-gradient-to-br from-red-50 via-red-100 to-red-50 border-red-200"}`,children:e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:`text-4xl sm:text-5xl font-bold mb-3 ${s.monthlySavings>0?"text-emerald-800":"text-red-800"}`,children:[s.monthlySavings>0?"+":"",a(Math.abs(s.monthlySavings))]}),e.jsxs("h3",{className:`text-lg sm:text-xl font-bold ${s.monthlySavings>0?"text-emerald-800":"text-red-800"}`,children:["Monthly ",s.monthlySavings>0?"Savings":"Increase"]}),e.jsx("div",{className:`mt-4 inline-flex items-center px-4 py-2 rounded-full text-sm font-bold ${s.monthlySavings>0?"bg-emerald-200 text-emerald-800":"bg-red-200 text-red-800"}`,children:s.monthlySavings>0?"✓ Saves Money":"✗ Costs More"})]})}),e.jsxs("div",{className:`rounded-2xl border-2 p-6 sm:p-8 shadow-lg ${s.qualifies?"bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-50 border-emerald-200":"bg-gradient-to-br from-red-50 via-red-100 to-red-50 border-red-200"}`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:`text-lg sm:text-xl font-bold mb-4 ${s.qualifies?"text-emerald-800":"text-red-800"}`,children:"Refinance Qualification"}),e.jsx("div",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-bold ${s.qualifies?"bg-emerald-200 text-emerald-800":"bg-red-200 text-red-800"}`,children:s.qualifies?"✓ Likely to Qualify":"✗ May Not Qualify"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${s.gdsRatio<=45?"text-emerald-600":"text-red-600"}`,children:[s.gdsRatio,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"GDS Ratio"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Max: 45%"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${s.tdsRatio<=50?"text-emerald-600":"text-red-600"}`,children:[s.tdsRatio,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"TDS Ratio"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Max: 50%"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-lg",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-6",children:"Payment Comparison"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Current Payment"}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-red-700",children:a(c)})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"New Payment"}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-emerald-700",children:a(s.newPayment)})]}),e.jsxs("div",{className:`flex justify-between items-center p-4 rounded-lg border ${s.monthlySavings>0?"bg-emerald-100 border-emerald-300":"bg-red-100 border-red-300"}`,children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Difference"}),e.jsxs("span",{className:`text-xl sm:text-2xl font-bold ${s.monthlySavings>0?"text-emerald-800":"text-red-800"}`,children:[s.monthlySavings>0?"-":"+",a(Math.abs(s.monthlySavings))]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-lg",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-6",children:"Break-Even Analysis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600 font-semibold",children:"Refinance Costs (Fees)"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:a(g)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600 font-semibold",children:"Estimated Prepayment Penalty"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-red-600",children:a(s.prepaymentPenalty)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600 font-semibold",children:"Total Cost to Refinance"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-red-700",children:a(s.totalRefinanceCosts)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600 font-semibold",children:"Monthly Savings"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-emerald-700",children:a(Math.abs(s.monthlySavings))})]}),e.jsxs("div",{className:"flex justify-between items-center py-4 pt-6 border-t-2 border-gray-200",children:[e.jsx("span",{className:"text-gray-900 font-bold text-base sm:text-lg",children:"Break-Even Point"}),e.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s.breakEvenMonths>0?`${s.breakEvenMonths} months`:"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-lg",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-6",children:"New Loan Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600 font-semibold",children:"Current Balance"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:a(o)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600 font-semibold",children:"Cash Out"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-brand-gold",children:a(b)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600 font-semibold",children:"New Loan Amount"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:a(s.newLoanAmount)})]}),e.jsxs("div",{className:"flex justify-between items-center py-4 pt-6 border-t-2 border-gray-200",children:[e.jsx("span",{className:"text-gray-900 font-bold text-base sm:text-lg",children:"Total Cost"}),e.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:a(s.newLoanAmount+s.totalRefinanceCosts)})]})]})]})]})]}),e.jsxs("div",{className:"mt-12 sm:mt-16 bg-gradient-to-r from-gray-50 via-blue-50/50 to-emerald-50/50 rounded-3xl p-8 sm:p-12 border border-gray-200",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6 text-center",children:"When to Consider Refinancing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(p,{size:24,className:"text-emerald-600"})}),e.jsx("h4",{className:"text-lg font-bold text-emerald-600 mb-3",children:"Rate Reduction"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Interest rates have dropped significantly since you got your current mortgage."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-brand-blue/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(l,{size:24,className:"text-brand-blue"})}),e.jsx("h4",{className:"text-lg font-bold text-brand-blue mb-3",children:"Cash Out"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"You need to access your home's equity for renovations, investments, or debt consolidation."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-brand-gold/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(A,{size:24,className:"text-brand-gold"})}),e.jsx("h4",{className:"text-lg font-bold text-brand-gold mb-3",children:"Term Change"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"You want to change your amortization period to pay off your mortgage faster or reduce payments."})]})]})]})]})};export{be as default};
